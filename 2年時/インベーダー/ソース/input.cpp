//-----------------------------------------------------------------------------
// 
// キー処理		[input.cpp]		松尾　雄太
//
//-----------------------------------------------------------------------------

//-----------------------------------------------------------------------------
// インクルード
//-----------------------------------------------------------------------------
#include "input.h"

//-----------------------------------------------------------------------------
// キーの生成
//-----------------------------------------------------------------------------
CInput::CInput(void)
{
}

//-----------------------------------------------------------------------------
// キーの破棄
//-----------------------------------------------------------------------------
CInput::~CInput(void)
{
}

//-----------------------------------------------------------------------------
// キーの初期化
//-----------------------------------------------------------------------------
void CInput::Init(void)
{
}

//-----------------------------------------------------------------------------
// キー更新
//-----------------------------------------------------------------------------
void CInput::Update(void)
{
	for(int i = 0; i < MAX_KEY; i++)
	{
		m_aKey[i] = m_aKeyTrigger[i];					// 過去キーを保存
		m_aKeyTrigger[i] = INP( i );					// 現在キーを取得
	}
}

//-----------------------------------------------------------------------------
// 押しっぱなし
//-----------------------------------------------------------------------------
bool CInput::GetKeyboardPress(int nKey)
{
	return (bool)(m_aKeyTrigger[nKey]);
}

//-----------------------------------------------------------------------------
// 押した瞬間
//-----------------------------------------------------------------------------
bool CInput::GetKeyboardTrigger(int nKey)
{
	return (bool)((m_aKeyTrigger[nKey] ^ m_aKey[nKey]) & m_aKeyTrigger[nKey] & m_aKeyTrigger[nKey ] );
}